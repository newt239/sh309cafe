generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Guest {
  id          String    @id @unique(map: "guests_UN") @db.VarChar(10)
  card_number Int       @db.SmallInt
  count       Int       @db.TinyInt
  enter_at    DateTime  @db.Timestamp(0)
  exit_at     DateTime? @db.Timestamp(0)
  note        String?   @db.VarChar(100)
  fee         Int?      @db.SmallInt
}

model Menu {
  id          Int     @id @unique(map: "menus_UN") @db.TinyInt
  name        String  @db.VarChar(30)
  description String? @db.VarChar(100)
  price       Int     @default(0) @db.SmallInt
  stock       Int     @default(0) @db.SmallInt
  source      String? @db.VarChar(200)
  Order       Order[]
}

model Order {
  id       String   @id @unique(map: "orders_UN") @db.VarChar(10)
  menu_id  Int      @db.TinyInt
  guest_id String   @db.VarChar(10)
  count    Int      @db.TinyInt
  order_at DateTime @db.Timestamp(0)
  note     String?  @db.VarChar(100)
  menu     Menu     @relation(fields: [menu_id], references: [id])

  @@index([menu_id])
}
